{% extends 'admin.html.twig' %}

{% block title %}Superviseur{% endblock %}

{% block body %}
<section class="container mt-3">
    <div class="table-responsive">
        <p class="text-center h3 text-decoration-underline mb-3"> Liste des resultats valider</p>
        <table class="table table-striped" id="myConso">
            <thead>
                <tr>
                    <th>CODE BUREAUV VOTE</th>
                    <th>COMMUNE</th>
                    <th>DONNEES DISPONIBLES</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for bv in bvs %}
                    <tr>
                        <td>{{bv.code}}</td>
                        <td>{{bv.commune.libelle}}</td>
                        <td>{{bv.resultats | length}}</td>
                        <td><a href="{{path("detailsBV",{'id': bv.id })}}" class="btn btn-success">consolider</a></td>
                    </tr>
                {% endfor %}
                {#<tr>
                    <td>pala</td>
                    <td>pal001</td>
                    <td>10</td>
                    <td>7</td>
                    <td><a href="#">3</a></td>
                    <td><a href="#" class="btn btn-success">consolider</a></td>
                </tr>{#}
            </tbody>
        </table>
    </div>
</section>
    <script>
        let table = new DataTable('#myConso', {
        // config options...
        }); 
        // show div
        const showLabelDiv = document.querySelector(".dataTables_length");
        var showLabel = showLabelDiv.querySelector("label");
        var select = showLabelDiv.querySelector("select");
        select.classList.add("mx-2");
        select.style.width = '75px';
        showLabel.classList.add("d-flex");
        showLabelDiv.parentNode.classList.add("my-4");
        // filter div
        const FilterDiv = document.querySelector(".dataTables_filter");
        var filterLabel = FilterDiv.querySelector("label");
        var input = FilterDiv.querySelector("input");
        filterLabel.classList.add("d-flex");
        input.classList.add("mx-1");
    </script>
{% endblock %}