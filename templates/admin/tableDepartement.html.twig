{% extends 'admin.html.twig' %}

{% block title %}Departement{% endblock %}

{% block body %}
<div class="container mt-3">
    <div class="table-responsive mx-auto">
        <a href="{{path("add_dept")}}" class="btn btn-primary btn-lg">Ajouter</a>
        <p class="text-center h3 fw-bold text-decoration-underline">liste des departements</p>
        <table class="table table-striped" id="deptTable">
            <thead>
                <tr>
                    <th>NÂ°</th>
                    <th>libelle</th>
                    <th>province</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% set i = 1 %}
                {% for dept in depts %}
                    <tr>
                        <td>{{i}}</td>
                        <td>{{dept.libelle}}</td>
                        <td>{{dept.province.libelle}}</td>
                        <td><a href="{{path("update_dept",{'id':dept.id})}}" class="btn btn-warning">modifier</a></td>
                        <td><a href="{{path("del_dept",{'id':dept.id})}}" class="btn btn-danger">Supprimer</a></td>
                    </tr>
                    {% set i = i + 1 %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<script>
        let table = new DataTable('#deptTable', {
        // config options...
        }); 
        // show div
        const showLabelDiv = document.querySelector(".dataTables_length");
        var showLabel = showLabelDiv.querySelector("label");
        var select = showLabelDiv.querySelector("select");
        select.classList.add("mx-2");
        select.style.width = '75px';
        showLabel.classList.add("d-flex");
        showLabelDiv.parentNode.classList.add("my-4");
        // filter div
        const FilterDiv = document.querySelector(".dataTables_filter");
        var filterLabel = FilterDiv.querySelector("label");
        var input = FilterDiv.querySelector("input");
        filterLabel.classList.add("d-flex");
        input.classList.add("mx-1");
</script>
{% endblock %}

